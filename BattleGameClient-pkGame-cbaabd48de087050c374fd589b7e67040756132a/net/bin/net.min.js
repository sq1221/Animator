var __reflect=this&&this.__reflect||function(e,t,s){e.__class__=t,s?s.push(t):s=[t],e.__types__=e.__types__?s.concat(e.__types__):s},Msg=function(){function e(){}return e.encode=function(t,s,o,r){if(void 0===r&&(r=null),"byte"==s)t.writeByte(o);else if("short"==s)t.writeShort(o);else if("ushort"==s)t.writeUnsignedShort(o);else if("int32"==s)t.writeInt(o);else if("uint32"==s)t.writeUnsignedInt(o);else if("int64"==s)t.writeInt(o.high),t.writeUnsignedInt(o.low);else if("uint64"==s)t.writeUnsignedInt(o.high),t.writeUnsignedInt(o.low);else if("string"==s)t.writeByte(1),t.writeUTF(o);else if("float"==s)t.writeFloat(o);else if("double"==s)t.writeDouble(o);else if("array"==s)e.encodeArray(t,o,r);else{var n=o.encode();t.writeByte(1),t.writeUnsignedShort(n.length),t.writeBytes(n)}},e.decode=function(t,s,o){void 0===o&&(o=null);var r=null;if("byte"==s)r=t.readByte();else if("short"==s)r=t.readShort();else if("ushort"==s)r=t.readUnsignedShort();else if("int32"==s)r=t.readInt();else if("uint32"==s)r=t.readUnsignedInt();else if("int64"==s){var n=t.readInt(),i=t.readUnsignedInt();r=new Long(i,n,!1)}else if("uint64"==s){var n=t.readUnsignedInt(),i=t.readUnsignedInt();r=new Long(i,n,!0)}else if("string"==s)t.readByte(),r=t.readUTF();else if("float"==s)r=t.readFloat();else if("double"==s)r=t.readDouble();else if("array"==s)r=e.decodeArray(t,o);else{t.readByte(),t.readUnsignedShort();var c=s,d=new c;d.decode(t),r=d}return r},e.decodeArray=function(t,s){for(var o=t.readShort(),r=[],n=0;o>n;n++){var i=e.decode(t,s);r.push(i)}return r},e.encodeArray=function(t,s,o){var r=s.length;t.writeShort(r);for(var n=0;r>n;n++)e.encode(t,o,s[n])},e}();__reflect(Msg.prototype,"Msg");var game_loadProgress_notice_s2c=function(){function e(){this.msgId=3002,this.userId="",this.progress=0}return e.prototype.encode=function(){var e=new egret.ByteArray;return Msg.encode(e,"ushort",this.msgId),Msg.encode(e,"string",this.userId),Msg.encode(e,"ushort",this.progress),e},e.prototype.decode=function(e){this.msgId=Msg.decode(e,"ushort"),this.userId=Msg.decode(e,"string"),this.progress=Msg.decode(e,"ushort")},e}();__reflect(game_loadProgress_notice_s2c.prototype,"game_loadProgress_notice_s2c");var client_network_c2s=function(){function e(){this.msgId=1001,this.time=0}return e.prototype.encode=function(){var e=new egret.ByteArray;return Msg.encode(e,"ushort",this.msgId),Msg.encode(e,"uint32",this.time),e},e.prototype.decode=function(e){this.msgId=Msg.decode(e,"ushort"),this.time=Msg.decode(e,"uint32")},e}();__reflect(client_network_c2s.prototype,"client_network_c2s");var client_network_s2c=function(){function e(){this.msgId=1002,this.time=0}return e.prototype.encode=function(){var e=new egret.ByteArray;return Msg.encode(e,"ushort",this.msgId),Msg.encode(e,"uint32",this.time),e},e.prototype.decode=function(e){this.msgId=Msg.decode(e,"ushort"),this.time=Msg.decode(e,"uint32")},e}();__reflect(client_network_s2c.prototype,"client_network_s2c");var client_ping_c2s=function(){function e(){this.msgId=1e3}return e.prototype.encode=function(){var e=new egret.ByteArray;return Msg.encode(e,"ushort",this.msgId),e},e.prototype.decode=function(e){this.msgId=Msg.decode(e,"ushort")},e}();__reflect(client_ping_c2s.prototype,"client_ping_c2s");var error_notice_s2c=function(){function e(){this.msgId=1999,this.errorCode=0}return e.prototype.encode=function(){var e=new egret.ByteArray;return Msg.encode(e,"ushort",this.msgId),Msg.encode(e,"uint32",this.errorCode),e},e.prototype.decode=function(e){this.msgId=Msg.decode(e,"ushort"),this.errorCode=Msg.decode(e,"uint32")},e}();__reflect(error_notice_s2c.prototype,"error_notice_s2c");var game_cancelMatching_c2s=function(){function e(){this.msgId=3017,this.userId=""}return e.prototype.encode=function(){var e=new egret.ByteArray;return Msg.encode(e,"ushort",this.msgId),Msg.encode(e,"string",this.userId),e},e.prototype.decode=function(e){this.msgId=Msg.decode(e,"ushort"),this.userId=Msg.decode(e,"string")},e}();__reflect(game_cancelMatching_c2s.prototype,"game_cancelMatching_c2s");var game_cancelMatching_s2c=function(){function e(){this.msgId=3018}return e.prototype.encode=function(){var e=new egret.ByteArray;return Msg.encode(e,"ushort",this.msgId),e},e.prototype.decode=function(e){this.msgId=Msg.decode(e,"ushort")},e}();__reflect(game_cancelMatching_s2c.prototype,"game_cancelMatching_s2c");var game_event_c2s=function(){function e(){this.msgId=3009,this.roomId="",this.sendType=0,this.event=""}return e.prototype.encode=function(){var e=new egret.ByteArray;return Msg.encode(e,"ushort",this.msgId),Msg.encode(e,"string",this.roomId),Msg.encode(e,"byte",this.sendType),Msg.encode(e,"string",this.event),e},e.prototype.decode=function(e){this.msgId=Msg.decode(e,"ushort"),this.roomId=Msg.decode(e,"string"),this.sendType=Msg.decode(e,"byte"),this.event=Msg.decode(e,"string")},e}();__reflect(game_event_c2s.prototype,"game_event_c2s");var game_event_notice_s2c=function(){function e(){this.msgId=3010,this.userId="",this.event="",this.trunNum=0}return e.prototype.encode=function(){var e=new egret.ByteArray;return Msg.encode(e,"ushort",this.msgId),Msg.encode(e,"string",this.userId),Msg.encode(e,"string",this.event),Msg.encode(e,"uint32",this.trunNum),e},e.prototype.decode=function(e){this.msgId=Msg.decode(e,"ushort"),this.userId=Msg.decode(e,"string"),this.event=Msg.decode(e,"string"),this.trunNum=Msg.decode(e,"uint32")},e}();__reflect(game_event_notice_s2c.prototype,"game_event_notice_s2c");var game_exit_c2s=function(){function e(){this.msgId=3005,this.roomId=""}return e.prototype.encode=function(){var e=new egret.ByteArray;return Msg.encode(e,"ushort",this.msgId),Msg.encode(e,"string",this.roomId),e},e.prototype.decode=function(e){this.msgId=Msg.decode(e,"ushort"),this.roomId=Msg.decode(e,"string")},e}();__reflect(game_exit_c2s.prototype,"game_exit_c2s");var game_join_c2s=function(){function e(){this.msgId=3101,this.roomId=""}return e.prototype.encode=function(){var e=new egret.ByteArray;return Msg.encode(e,"ushort",this.msgId),Msg.encode(e,"string",this.roomId),e},e.prototype.decode=function(e){this.msgId=Msg.decode(e,"ushort"),this.roomId=Msg.decode(e,"string")},e}();__reflect(game_join_c2s.prototype,"game_join_c2s");var game_join_s2c=function(){function e(){this.msgId=3102,this.myUser=new userInfo,this.otherUser=new userInfo,this.isAi=0,this.aiLevel=0}return e.prototype.encode=function(){var e=new egret.ByteArray;return Msg.encode(e,"ushort",this.msgId),Msg.encode(e,"userInfo",this.myUser),Msg.encode(e,"userInfo",this.otherUser),Msg.encode(e,"ushort",this.isAi),Msg.encode(e,"ushort",this.aiLevel),e},e.prototype.decode=function(e){this.msgId=Msg.decode(e,"ushort"),this.myUser=Msg.decode(e,userInfo),this.otherUser=Msg.decode(e,userInfo),this.isAi=Msg.decode(e,"ushort"),this.aiLevel=Msg.decode(e,"ushort")},e}();__reflect(game_join_s2c.prototype,"game_join_s2c");var game_loadProgress_c2s=function(){function e(){this.msgId=3001,this.roomId="",this.progress=0}return e.prototype.encode=function(){var e=new egret.ByteArray;return Msg.encode(e,"ushort",this.msgId),Msg.encode(e,"string",this.roomId),Msg.encode(e,"ushort",this.progress),e},e.prototype.decode=function(e){this.msgId=Msg.decode(e,"ushort"),this.roomId=Msg.decode(e,"string"),this.progress=Msg.decode(e,"ushort")},e}();__reflect(game_loadProgress_c2s.prototype,"game_loadProgress_c2s");var Proto=function(){function e(){}return e.init=function(){this.dic={1000:client_ping_c2s,1001:client_network_c2s,1002:client_network_s2c,1999:error_notice_s2c,2001:platform_login_c2s,2002:platform_login_s2c,3101:game_join_c2s,3102:game_join_s2c,3104:game_otherUserJoin_notice_s2c,3001:game_loadProgress_c2s,3002:game_loadProgress_notice_s2c,3004:game_start_notice_s2c,3005:game_exit_c2s,3007:game_result_c2s,3008:game_result_notice_s2c,3009:game_event_c2s,3010:game_event_notice_s2c,3012:game_trunNumNotice_s2c,3013:game_matching_c2s,3014:game_matching_s2c,3016:game_matching_notice_s2c,3017:game_cancelMatching_c2s,3018:game_cancelMatching_s2c}},e.decode=function(t){var s=t.readUnsignedShort(),o=e.dic[s];if(!o)return console.warn("收到未知消息ID："+s),null;t.position=0;var r=new o;return r.decode(t),r},e.dic={},e.ID_client_ping_c2s="1000",e.ID_client_network_c2s="1001",e.ID_client_network_s2c="1002",e.ID_error_notice_s2c="1999",e.ID_platform_login_c2s="2001",e.ID_platform_login_s2c="2002",e.ID_game_join_c2s="3101",e.ID_game_join_s2c="3102",e.ID_game_otherUserJoin_notice_s2c="3104",e.ID_game_loadProgress_c2s="3001",e.ID_game_loadProgress_notice_s2c="3002",e.ID_game_start_notice_s2c="3004",e.ID_game_exit_c2s="3005",e.ID_game_result_c2s="3007",e.ID_game_result_notice_s2c="3008",e.ID_game_event_c2s="3009",e.ID_game_event_notice_s2c="3010",e.ID_game_trunNumNotice_s2c="3012",e.ID_game_matching_c2s="3013",e.ID_game_matching_s2c="3014",e.ID_game_matching_notice_s2c="3016",e.ID_game_cancelMatching_c2s="3017",e.ID_game_cancelMatching_s2c="3018",e}();__reflect(Proto.prototype,"Proto"),App.Proto=Proto;var game_matching_c2s=function(){function e(){this.msgId=3013,this.gameId=0,this.userId="",this.userName="",this.userPic="",this.userSex=0}return e.prototype.encode=function(){var e=new egret.ByteArray;return Msg.encode(e,"ushort",this.msgId),Msg.encode(e,"ushort",this.gameId),Msg.encode(e,"string",this.userId),Msg.encode(e,"string",this.userName),Msg.encode(e,"string",this.userPic),Msg.encode(e,"byte",this.userSex),e},e.prototype.decode=function(e){this.msgId=Msg.decode(e,"ushort"),this.gameId=Msg.decode(e,"ushort"),this.userId=Msg.decode(e,"string"),this.userName=Msg.decode(e,"string"),this.userPic=Msg.decode(e,"string"),this.userSex=Msg.decode(e,"byte")},e}();__reflect(game_matching_c2s.prototype,"game_matching_c2s");var game_matching_notice_s2c=function(){function e(){this.msgId=3016,this.gameId=0,this.otherUserId="",this.otherUserName="",this.otherUserPic="",this.otherUserSex=0,this.isAi=0,this.aiLevel=0,this.roomId=""}return e.prototype.encode=function(){var e=new egret.ByteArray;return Msg.encode(e,"ushort",this.msgId),Msg.encode(e,"ushort",this.gameId),Msg.encode(e,"string",this.otherUserId),Msg.encode(e,"string",this.otherUserName),Msg.encode(e,"string",this.otherUserPic),Msg.encode(e,"byte",this.otherUserSex),Msg.encode(e,"byte",this.isAi),Msg.encode(e,"ushort",this.aiLevel),Msg.encode(e,"string",this.roomId),e},e.prototype.decode=function(e){this.msgId=Msg.decode(e,"ushort"),this.gameId=Msg.decode(e,"ushort"),this.otherUserId=Msg.decode(e,"string"),this.otherUserName=Msg.decode(e,"string"),this.otherUserPic=Msg.decode(e,"string"),this.otherUserSex=Msg.decode(e,"byte"),this.isAi=Msg.decode(e,"byte"),this.aiLevel=Msg.decode(e,"ushort"),this.roomId=Msg.decode(e,"string")},e}();__reflect(game_matching_notice_s2c.prototype,"game_matching_notice_s2c");var game_matching_s2c=function(){function e(){this.msgId=3014}return e.prototype.encode=function(){var e=new egret.ByteArray;return Msg.encode(e,"ushort",this.msgId),e},e.prototype.decode=function(e){this.msgId=Msg.decode(e,"ushort")},e}();__reflect(game_matching_s2c.prototype,"game_matching_s2c");var game_otherUserJoin_notice_s2c=function(){function e(){this.msgId=3104,this.otherUser=new userInfo}return e.prototype.encode=function(){var e=new egret.ByteArray;return Msg.encode(e,"ushort",this.msgId),Msg.encode(e,"userInfo",this.otherUser),e},e.prototype.decode=function(e){this.msgId=Msg.decode(e,"ushort"),this.otherUser=Msg.decode(e,userInfo)},e}();__reflect(game_otherUserJoin_notice_s2c.prototype,"game_otherUserJoin_notice_s2c");var game_result_c2s=function(){function e(){this.msgId=3007,this.roomId="",this.result=0}return e.prototype.encode=function(){var e=new egret.ByteArray;return Msg.encode(e,"ushort",this.msgId),Msg.encode(e,"string",this.roomId),Msg.encode(e,"byte",this.result),e},e.prototype.decode=function(e){this.msgId=Msg.decode(e,"ushort"),this.roomId=Msg.decode(e,"string"),this.result=Msg.decode(e,"byte")},e}();__reflect(game_result_c2s.prototype,"game_result_c2s");var game_result_notice_s2c=function(){function e(){this.msgId=3008,this.winUserId="",this.userExitFlag=0}return e.prototype.encode=function(){var e=new egret.ByteArray;return Msg.encode(e,"ushort",this.msgId),Msg.encode(e,"string",this.winUserId),Msg.encode(e,"byte",this.userExitFlag),e},e.prototype.decode=function(e){this.msgId=Msg.decode(e,"ushort"),this.winUserId=Msg.decode(e,"string"),this.userExitFlag=Msg.decode(e,"byte")},e}();__reflect(game_result_notice_s2c.prototype,"game_result_notice_s2c");var game_start_notice_s2c=function(){function e(){this.msgId=3004}return e.prototype.encode=function(){var e=new egret.ByteArray;return Msg.encode(e,"ushort",this.msgId),e},e.prototype.decode=function(e){this.msgId=Msg.decode(e,"ushort")},e}();__reflect(game_start_notice_s2c.prototype,"game_start_notice_s2c");var game_trunNumNotice_s2c=function(){function e(){this.msgId=3012,this.trunNum=0}return e.prototype.encode=function(){var e=new egret.ByteArray;return Msg.encode(e,"ushort",this.msgId),Msg.encode(e,"uint32",this.trunNum),e},e.prototype.decode=function(e){this.msgId=Msg.decode(e,"ushort"),this.trunNum=Msg.decode(e,"uint32")},e}();__reflect(game_trunNumNotice_s2c.prototype,"game_trunNumNotice_s2c");var platform_login_c2s=function(){function e(){this.msgId=2001,this.gameId=0,this.platformId=0,this.platformData=""}return e.prototype.encode=function(){var e=new egret.ByteArray;return Msg.encode(e,"ushort",this.msgId),Msg.encode(e,"ushort",this.gameId),Msg.encode(e,"ushort",this.platformId),Msg.encode(e,"string",this.platformData),e},e.prototype.decode=function(e){this.msgId=Msg.decode(e,"ushort"),this.gameId=Msg.decode(e,"ushort"),this.platformId=Msg.decode(e,"ushort"),this.platformData=Msg.decode(e,"string")},e}();__reflect(platform_login_c2s.prototype,"platform_login_c2s");var platform_login_s2c=function(){function e(){this.msgId=2002}return e.prototype.encode=function(){var e=new egret.ByteArray;return Msg.encode(e,"ushort",this.msgId),e},e.prototype.decode=function(e){this.msgId=Msg.decode(e,"ushort")},e}();__reflect(platform_login_s2c.prototype,"platform_login_s2c");var userInfo=function(){function e(){this.uuid="",this.userId="",this.userName="",this.userPic="",this.userSex=0,this.userProgress=0}return e.prototype.encode=function(){var e=new egret.ByteArray;return Msg.encode(e,"string",this.uuid),Msg.encode(e,"string",this.userId),Msg.encode(e,"string",this.userName),Msg.encode(e,"string",this.userPic),Msg.encode(e,"byte",this.userSex),Msg.encode(e,"ushort",this.userProgress),e},e.prototype.decode=function(e){this.uuid=Msg.decode(e,"string"),this.userId=Msg.decode(e,"string"),this.userName=Msg.decode(e,"string"),this.userPic=Msg.decode(e,"string"),this.userSex=Msg.decode(e,"byte"),this.userProgress=Msg.decode(e,"ushort")},e}();__reflect(userInfo.prototype,"userInfo");var ProxyHttp=function(){function e(){}return e.init=function(e,t){this.platformId=t,App.Http.initServer(e)},e.request=function(e,t,s){var o=this.getURLVariables(e,t);App.Http.send(e,o,s)},e.getURLVariables=function(e,t){var s=e.split("."),o={};o.mod=s[0],o["do"]=s[1],null!=t&&(o.p=t);var r=JSON.stringify(o),n=new egret.URLVariables("data="+r+"&h="+App.UserToken);return n},e.getPlatformName=function(){switch(this.platformId){case 0:return"egret";case 1:return"baiwan";case 2:return"facebook";case 3:return"wanba";case 4:return"xiaoMiGame";case 6:return"liaoZhan";case 7:return"gameSLL";case 8:return"channel";case 9:return"meitu";case 11:return"liaoZhanAbroad";case 12:return"liaoZhanTest"}return""},e.getGameServer=function(e,t){var s={roomId:e,platform:this.getPlatformName()};this.request(this.Gate_getGameServer,s,t)},e.getQuestions=function(e,t){var s={roomId:e,platform:this.getPlatformName()};this.request(this.Gate_getQuestions,s,t)},e.getData=function(e,t){var s={gameId:e,platform:this.getPlatformName()};this.request(this.Gate_getData,s,t)},e.wxImgToBase64=function(e,t){},e.Gate_getGameServer="Gate.getGameServer",e.Gate_getQuestions="Gate.getQuestions",e.Gate_getData="Gate.getData",e}();__reflect(ProxyHttp.prototype,"ProxyHttp");var ProxySocket=function(){function e(){}return e.init=function(e,t,s){function o(){}console.log("Socket.init: ",e,t,s),App.Socket.initServer(e,t,s,new ByteArrayMsgByProto,!1),App.MessageCenter.addListener(SocketConst.SOCKET_CONNECT,function(){console.log("SOCKET_CONNECT"),o()},this),App.MessageCenter.addListener(SocketConst.SOCKET_RECONNECT,function(){console.log("SOCKET_RECONNECT"),o()},this),App.MessageCenter.addListener(SocketConst.SOCKET_START_RECONNECT,function(){console.log("SOCKET_START_RECONNECT")},this),App.MessageCenter.addListener(SocketConst.SOCKET_CLOSE,function(){console.log("SOCKET_CLOSE")},this),App.MessageCenter.addListener(SocketConst.SOCKET_DATA,function(){console.log("SOCKET_DATA")},this),App.MessageCenter.addListener(SocketConst.SOCKET_NOCONNECT,function(){console.log("SOCKET_NOCONNECT")},this),App.MessageCenter.addListener(SocketConst.SOCKET_DEBUG_INFO,function(){console.log("SOCKET_DEBUG_INFO")},this),App.Socket.connect()},e.stop=function(){App.Socket.removeEvents(),App.Socket.close(),Socket._instance=null,App.MessageCenter.removeAll(this),App.TimerManager.removeAll(this)},e.startPing=function(){App.TimerManager.doTimer(3e3,0,this.ping,this)},e.stopPing=function(){App.TimerManager.remove(this.ping,this)},e.startMatching=function(e,t,s,o,r){var n=new game_matching_c2s;n.gameId=e,n.userId=t,n.userName=s,n.userPic=o,n.userSex=r,App.Socket.send(n)},e.stopMatching=function(e){var t=new game_cancelMatching_c2s;t.userId=e,App.Socket.send(t)},e.joinGame=function(e){var t=new game_join_c2s;t.roomId=e,App.Socket.send(t)},e.sendLoadProgress=function(e,t){var s=new game_loadProgress_c2s;s.roomId=e,s.progress=t,App.Socket.send(s)},e.sendGameEvent=function(e,t,s){void 0===s&&(s=2);var o=new game_event_c2s;o.roomId=e,o.sendType=s,o.event=t,App.Socket.send(o)},e.sendGameResult=function(e,t){var s=new game_result_c2s;s.roomId=e,s.result=t,App.Socket.send(s)},e.exitGame=function(e){var t=new game_exit_c2s;t.roomId=e,App.Socket.send(t)},e.ping=function(){var e=new client_ping_c2s;App.Socket.send(e)},e.platformLogin=function(e,t,s){var o=new platform_login_c2s;o.gameId=e,o.platformId=t,o.platformData=JSON.stringify(s),App.Socket.send(o)},e}();__reflect(ProxySocket.prototype,"ProxySocket");